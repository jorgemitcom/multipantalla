<!doctype html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>MULTIPANTALLA</title>
		<script src="https://cdn.rawgit.com/video-dev/hls.js/18bb552/dist/hls.min.js"></script>
		<script src="https://unpkg.com/plyr@3.5.6/dist/plyr.min.js"></script>
		<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
		<link rel="stylesheet" href="https://cdn.plyr.io/3.5.6/plyr.css" />
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
		<link rel="stylesheet" href="css/style.css">
	</head>
	
	

	<body>
		<script>

			document.addEventListener('DOMContentLoaded', () => {

				//constant amb els streamings/videos
				const source = ['http://rtvev4-live.hss.adaptive.level3.net/egress/ahandler/rtvegl0/irtve01_lv3_aosv4_gl0/irtve01_lv3_aosv4_gl0.isml/irtve01_lv3_aosv4_gl0-audio=128000-video=1500000.m3u8', 'http://rtvev4-live.hss.adaptive.level3.net/egress/ahandler/rtvegl0/irtve02_lv3_aosv4_gl0/irtve02_lv3_aosv4_gl0.isml/irtve02_lv3_aosv4_gl0-audio=128000-video=1500000.m3u8', 'http://rtvev4-live.hss.adaptive.level3.net/egress/ahandler/rtvegl0/irtve03_lv3_aosv4_gl0/irtve03_lv3_aosv4_gl0.isml/irtve03_lv3_aosv4_gl0-audio=128000-video=1500000.m3u8', 'http://rtvev4-live.hss.adaptive.level3.net/egress/ahandler/rtvegl0/irtve04_lv3_aosv4_gl0/irtve04_lv3_aosv4_gl0.isml/irtve04_lv3_aosv4_gl0-audio=128000-video=1500000.m3u8', 'http://rtvev4-live.hss.adaptive.level3.net/egress/ahandler/rtvegl0/irtve05_lv3_aosv4_gl0/irtve05_lv3_aosv4_gl0.isml/irtve05_lv3_aosv4_gl0-audio=128000-video=1500000.m3u8', 'http://rtvev4-live.hss.adaptive.level3.net/egress/ahandler/rtvegl0/irtve06_lv3_aosv4_gl0/irtve06_lv3_aosv4_gl0.isml/irtve06_lv3_aosv4_gl0-audio=128000-video=1500000.m3u8', 'http://rtvev4-live.hss.adaptive.level3.net/egress/ahandler/rtvegl0/irtve07_lv3_aosv4_gl0/irtve07_lv3_aosv4_gl0.isml/irtve07_lv3_aosv4_gl0-audio=128000-video=1500000.m3u8', 'http://rtvev4-live.hss.adaptive.level3.net/egress/ahandler/rtvegl0/irtve08_lv3_aosv4_gl0/irtve08_lv3_aosv4_gl0.isml/irtve08_lv3_aosv4_gl0-audio=128000-video=1500000.m3u8', 'http://rtvev4-live.hss.adaptive.level3.net/egress/ahandler/rtvegl0/irtve09_lv3_aosv4_gl0/irtve09_lv3_aosv4_gl0.isml/irtve09_lv3_aosv4_gl0-audio=128000-video=1500000.m3u8', 'http://rtvev4-live.hss.adaptive.level3.net/egress/ahandler/rtvegl0/irtve10_lv3_aosv4_gl0/irtve10_lv3_aosv4_gl0.isml/irtve10_lv3_aosv4_gl0-audio=128000-video=1500000.m3u8', 'http://rtvev4-live.hss.adaptive.level3.net/egress/ahandler/rtvegl0/irtve11_lv3_aosv4_gl0/irtve11_lv3_aosv4_gl0.isml/irtve11_lv3_aosv4_gl0-audio=128000-video=1500000.m3u8', 'http://rtvev4-live.hss.adaptive.level3.net/egress/ahandler/rtvegl0/irtve12_lv3_aosv4_gl0/irtve12_lv3_aosv4_gl0.isml/irtve12_lv3_aosv4_gl0-audio=128000-video=1500000.m3u8', 'http://rtvev4-live.hss.adaptive.level3.net/egress/ahandler/rtvegl0/irtve13_lv3_aosv4_gl0/irtve13_lv3_aosv4_gl0.isml/irtve13_lv3_aosv4_gl0-audio=128000-video=1500000.m3u8', 'http://rtvev4-live.hss.adaptive.level3.net/egress/ahandler/rtvegl0/irtve14_lv3_aosv4_gl0/irtve14_lv3_aosv4_gl0.isml/irtve14_lv3_aosv4_gl0-audio=128000-video=1500000.m3u8', 'http://rtvev4-live.hss.adaptive.level3.net/egress/ahandler/rtvegl0/irtve15_lv3_aosv4_gl0/irtve15_lv3_aosv4_gl0.isml/irtve15_lv3_aosv4_gl0-audio=128000-video=1500000.m3u8', 'http://rtvev4-live.hss.adaptive.level3.net/egress/ahandler/rtvegl0/irtve16_lv3_aosv4_gl0/irtve16_lv3_aosv4_gl0.isml/irtve16_lv3_aosv4_gl0-audio=128000-video=1500000.m3u8', 'http://rtvev4-live.hss.adaptive.level3.net/egress/ahandler/rtvegl0/irtve17_lv3_aosv4_gl0/irtve17_lv3_aosv4_gl0.isml/irtve17_lv3_aosv4_gl0-audio=128000-video=1500000.m3u8', 'http://rtvev4-live.hss.adaptive.level3.net/egress/ahandler/rtvegl0/irtve18_lv3_aosv4_gl0/irtve18_lv3_aosv4_gl0.isml/irtve18_lv3_aosv4_gl0-audio=128000-video=1500000.m3u8', 'http://rtvev4-live.hss.adaptive.level3.net/egress/ahandler/rtvegl0/irtve19_lv3_aosv4_gl0/irtve19_lv3_aosv4_gl0.isml/irtve19_lv3_aosv4_gl0-audio=128000-video=1500000.m3u8', 'http://rtvev4-live.hss.adaptive.level3.net/egress/ahandler/rtvegl0/irtve20_lv3_aosv4_gl0/irtve20_lv3_aosv4_gl0.isml/irtve20_lv3_aosv4_gl0-audio=128000-video=1500000.m3u8', 'http://rtvev4-live.hss.adaptive.level3.net/egress/ahandler/rtvegl0/irtve21_lv3_aosv4_gl0/irtve21_lv3_aosv4_gl0.isml/irtve21_lv3_aosv4_gl0-audio=128000-video=1500000.m3u8', 'http://rtvev4-live.hss.adaptive.level3.net/egress/ahandler/rtvegl0/irtve22_lv3_aosv4_gl0/irtve22_lv3_aosv4_gl0.isml/irtve22_lv3_aosv4_gl0-audio=128000-video=1500000.m3u8', 'http://rtvev4-live.hss.adaptive.level3.net/egress/ahandler/rtvegl0/irtve23_lv3_aosv4_gl0/irtve23_lv3_aosv4_gl0.isml/irtve23_lv3_aosv4_gl0-audio=128000-video=1500000.m3u8', 'http://rtvev4-live.hss.adaptive.level3.net/egress/ahandler/rtvegl0/irtve24_lv3_aosv4_gl0/irtve24_lv3_aosv4_gl0.isml/irtve24_lv3_aosv4_gl0-audio=128000-video=1500000.m3u8', 'http://rtvev4-live.hss.adaptive.level3.net/egress/ahandler/rtvegl0/irtve25_lv3_aosv4_gl0/irtve25_lv3_aosv4_gl0.isml/irtve25_lv3_aosv4_gl0-audio=128000-video=1500000.m3u8', 'http://rtvev4-live.hss.adaptive.level3.net/egress/ahandler/rtvegl0/irtve26_lv3_aosv4_gl0/irtve26_lv3_aosv4_gl0.isml/irtve26_lv3_aosv4_gl0-audio=128000-video=1500000.m3u8', 'http://rtvev4-live.hss.adaptive.level3.net/egress/ahandler/rtvegl0/irtve27_lv3_aosv4_gl0/irtve27_lv3_aosv4_gl0.isml/irtve27_lv3_aosv4_gl0-audio=128000-video=1500000.m3u8', 'http://rtvev4-live.hss.adaptive.level3.net/egress/ahandler/rtvegl0/irtve28_lv3_aosv4_gl0/irtve28_lv3_aosv4_gl0.isml/irtve28_lv3_aosv4_gl0-audio=128000-video=1500000.m3u8', 'http://rtvev4-live.hss.adaptive.level3.net/egress/ahandler/rtvegl0/irtve29_lv3_aosv4_gl0/irtve29_lv3_aosv4_gl0.isml/irtve29_lv3_aosv4_gl0-audio=128000-video=1500000.m3u8', 'http://rtvev4-live.hss.adaptive.level3.net/egress/ahandler/rtvegl0/irtve30_lv3_aosv4_gl0/irtve30_lv3_aosv4_gl0.isml/irtve30_lv3_aosv4_gl0-audio=128000-video=1500000.m3u8', 'http://rtvev4-live.hss.adaptive.level3.net/egress/ahandler/rtvegl0/irtve31_lv3_aosv4_gl0/irtve31_lv3_aosv4_gl0.isml/irtve31_lv3_aosv4_gl0-audio=128000-video=1500000.m3u8'];
				//constants dels players
				const video = document.querySelectorAll('video');
				
				//definició de bucle for per inicialitzar els players
				for (var i = 0; i < video.length; i++) {
					//inicialització del player
					const player = new Plyr(video[i], {captions: {active: true, update: true, language: 'en'}});
					
					//condició if si l'enllaç triat conté "m3u8"
					if(source[i].indexOf('.m3u8') != -1){
						//definició de condició if en cas de navegador amb suport nadiu
						if (!Hls.isSupported()) {
							video[i].src = source[i];

						} else {
							//utilització de hls.js per reproducció del streaming
							const hls = new Hls();
							hls.loadSource(source[i]);
							hls.attachMedia(video[i]);
							window.hls = hls;

							player.on('languagechange', () => {
								setTimeout(() => hls.subtitleTrack = player.currentTrack, 50);
							});
						}
					} else {
						//cas enllaç no m3u8
						video[i].src = source[i];
					}

					window.player = player;
				}				
			
			});
			
			
	</script>

		<div class="container">
			
			<div class="row justify-content-center">
				<div class="col w-100 p-0 players">
					<video muted autoplay id="player_un" controls crossorigin playsinline poster="img/no_disponible_rtve.png"></video>
					<div class="titol">iRTVE 01</div>
				</div>
				<div class="col w-100 p-0 players">
					<video muted autoplay id="player_dos" controls crossorigin playsinline poster="img/no_disponible_rtve.png"></video>
					<div class="titol">iRTVE 02</div>
				</div>
				<div class="col w-100 p-0 players">
					<video muted autoplay id="player_tres" controls crossorigin playsinline poster="img/no_disponible_rtve.png"></video>
					<div class="titol">iRTVE 03</div>
				</div>
				
				<div class="col w-100 p-0 players">
					<video muted autoplay id="player_quatre" controls crossorigin playsinline poster="img/no_disponible_rtve.png"></video>
					<div class="titol">iRTVE 04</div>
				</div>
  			</div>
			
			<div class="row justify-content-center">
				<div class="col w-100 p-0 players">
					<video muted autoplay id="player_cinc" controls crossorigin playsinline poster="img/no_disponible_rtve.png"></video>
					<div class="titol">iRTVE 05</div>
				</div>
				<div class="col w-100 p-0 players">
					<video muted autoplay id="player_sis" controls crossorigin playsinline poster="img/no_disponible_rtve.png"></video>
					<div class="titol">iRTVE 06</div>
				</div>
				<div class="col w-100 p-0 players">
					<video muted autoplay id="player_set" controls crossorigin playsinline poster="img/no_disponible_rtve.png"></video>
					<div class="titol">iRTVE 07</div>
				</div>
				<div class="col w-100 p-0 players">
					<video muted autoplay id="player_huit" controls crossorigin playsinline poster="img/no_disponible_rtve.png"></video>
					<div class="titol">iRTVE 08</div>
				</div>
  			</div>
			
			
			<div class="row justify-content-center">
				<div class="col w-100 p-0 players">
					<video muted autoplay id="player_nou" controls crossorigin playsinline poster="img/no_disponible_rtve.png"></video>
					<div class="titol">iRTVE 09</div>
				</div>
				<div class="col w-100 p-0 players">
					<video muted autoplay id="player_deu" controls crossorigin playsinline poster="img/no_disponible_rtve.png"></video>
					<div class="titol">iRTVE 10</div>
				</div>
				<div class="col w-100 p-0 players">
					<video muted autoplay id="player_onze" controls crossorigin playsinline poster="img/no_disponible_rtve.png"></video>
					<div class="titol">iRTVE 11</div>
				</div>
				<div class="col w-100 p-0 players">
					<video muted autoplay id="player_dotze" controls crossorigin playsinline poster="img/no_disponible_rtve.png"></video>
					<div class="titol">iRTVE 12</div>
				</div>
  			</div>
		

			<div class="row justify-content-center">
				<div class="col w-100 p-0 players">
					<video muted autoplay id="player_tretze" controls crossorigin playsinline poster="img/no_disponible_rtve.png"></video>
					<div class="titol">iRTVE 13</div>
				</div>
				<div class="col w-100 p-0 players">
					<video muted autoplay id="player_catorze" controls crossorigin playsinline poster="img/no_disponible_rtve.png"></video>
					<div class="titol">iRTVE 14</div>
				</div>
				<div class="col w-100 p-0 players">
					<video muted autoplay id="player_quinze" controls crossorigin playsinline poster="img/no_disponible_rtve.png"></video>
					<div class="titol">iRTVE 15</div>
				</div>
				<div class="col w-100 p-0 players">
					<video muted autoplay id="player_setze" controls crossorigin playsinline poster="img/no_disponible_rtve.png"></video>
					<div class="titol">iRTVE 16</div>
				</div>
  			</div>
		

			<div class="row justify-content-center">
				<div class="col w-100 p-0 players">
					<video muted autoplay id="player_disset" controls crossorigin playsinline poster="img/no_disponible_rtve.png"></video>
					<div class="titol">iRTVE 17</div>
				</div>
				<div class="col w-100 p-0 players">
					<video muted autoplay id="player_dihuit" controls crossorigin playsinline poster="img/no_disponible_rtve.png"></video>
					<div class="titol">iRTVE 18</div>
				</div>
				<div class="col w-100 p-0 players">
					<video muted autoplay id="player_dinou" controls crossorigin playsinline poster="img/no_disponible_rtve.png"></video>
					<div class="titol">iRTVE 19</div>
				</div>
				<div class="col w-100 p-0 players">
					<video muted autoplay id="player_vint" controls crossorigin playsinline poster="img/no_disponible_rtve.png"></video>
					<div class="titol">iRTVE 20</div>
				</div>
  			</div>

  			<div class="row justify-content-center">
				<div class="col w-100 p-0 players">
					<video muted autoplay id="player_vintiun" controls crossorigin playsinline poster="img/no_disponible_rtve.png"></video>
					<div class="titol">iRTVE 21</div>
				</div>
				<div class="col w-100 p-0 players">
					<video muted autoplay id="player_vintidos" controls crossorigin playsinline poster="img/no_disponible_rtve.png"></video>
					<div class="titol">iRTVE 22</div>
				</div>
				<div class="col w-100 p-0 players">
					<video muted autoplay id="player_vintitres" controls crossorigin playsinline poster="img/no_disponible_rtve.png"></video>
					<div class="titol">iRTVE 23</div>
				</div>
				<div class="col w-100 p-0 players">
					<video muted autoplay id="player_vintiquatre" controls crossorigin playsinline poster="img/no_disponible_rtve.png"></video>
					<div class="titol">iRTVE 24</div>
				</div>
  			</div>

  			<div class="row justify-content-center">
				<div class="col w-100 p-0 players">
					<video muted autoplay id="player_vinticinc" controls crossorigin playsinline poster="img/no_disponible_rtve.png"></video>
					<div class="titol">iRTVE 25</div>
				</div>
				<div class="col w-100 p-0 players">
					<video muted autoplay id="player_vintisis" controls crossorigin playsinline poster="img/no_disponible_rtve.png"></video>
					<div class="titol">iRTVE 26</div>
				</div>
				<div class="col w-100 p-0 players">
					<video muted autoplay id="player_vintiset" controls crossorigin playsinline poster="img/no_disponible_rtve.png"></video>
					<div class="titol">iRTVE 27</div>
				</div>
				<div class="col w-100 p-0 players">
					<video muted autoplay id="player_vintivuit" controls crossorigin playsinline poster="img/no_disponible_rtve.png"></video>
					<div class="titol">iRTVE 28</div>
				</div>
  			</div>

  			<div class="row justify-content-center">
				<div class="col w-100 p-0 players">
					<video muted autoplay id="player_vintinou" controls crossorigin playsinline poster="img/no_disponible_rtve.png"></video>
					<div class="titol">iRTVE 29</div>
				</div>
				<div class="col w-100 p-0 players">
					<video muted autoplay id="player_trenta" controls crossorigin playsinline poster="img/no_disponible_rtve.png"></video>
					<div class="titol">iRTVE 30</div>
				</div>
				<div class="col w-100 p-0 players">
					<video muted autoplay id="player_trentaun" controls crossorigin playsinline poster="img/no_disponible_rtve.png"></video>
					<div class="titol">iRTVE 31</div>
				</div>
  			</div>
		</div>

	</body>
</html>
